<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Web.Slack</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Web-Slack.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Web-Slack.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">slack-api-0.9: Bindings to the Slack RTM API.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Web.Slack</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">The Slack RTD API</a></li><li><a href="#g:2">The Slack Web API</a></li><li><a href="#g:3">Running your code</a><ul><li><a href="#g:4">Monadic style</a></li><li><a href="#g:5">Handle-based style</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This library contains functionality for writing slack bots which
 respond to <code><a href="Web-Slack.html#t:Event">Event</a></code>s sent by the RTM API.</p><p>A basic example of how to use this library is presented below. Other
 examples can be found in the &quot;examples&quot; directory.</p><p>Confusingly, Slack exposes a number of APIs which provide different (but
 overlapping) functionality. This library is mostly about the RTD API,
 but it also has some very limited support for using the Web API.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:getNextEvent">getNextEvent</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m <a href="Web-Slack.html#t:Event">Event</a></li><li class="src short"><a href="#v:getSession">getSession</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m <a href="Web-Slack.html#t:SlackSession">SlackSession</a></li><li class="src short"><a href="#v:sendMessage">sendMessage</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; m ()</li><li class="src short"><a href="#v:sendPing">sendPing</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:SlackSession">SlackSession</a> = <a href="#v:SlackSession">SlackSession</a> {<ul class="subs"><li><a href="#v:_slackSelf">_slackSelf</a> :: <a href="Web-Slack-Types-Self.html#t:Self">Self</a></li><li><a href="#v:_slackTeam">_slackTeam</a> :: <a href="Web-Slack-Types-Team.html#t:Team">Team</a></li><li><a href="#v:_slackUsers">_slackUsers</a> :: [<a href="Web-Slack-Types-User.html#t:User">User</a>]</li><li><a href="#v:_slackLatestEventTs">_slackLatestEventTs</a> :: <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a></li><li><a href="#v:_slackChannels">_slackChannels</a> :: [<a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a>]</li><li><a href="#v:_slackGroups">_slackGroups</a> :: [<a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a>]</li><li><a href="#v:_slackIms">_slackIms</a> :: [<a href="Web-Slack-Types-IM.html#t:IM">IM</a>]</li><li><a href="#v:_slackBots">_slackBots</a> :: [<a href="Web-Slack-Types-Bot.html#t:Bot">Bot</a>]</li><li><a href="#v:_slackCacheVersion">_slackCacheVersion</a> :: <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Event">Event</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:Hello">Hello</a> ::  <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:Message">Message</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Event.html#t:Submitter">Submitter</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Web-Slack-Types-Event-Subtype.html#t:Subtype">Subtype</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Web-Slack-Types-Item.html#t:Edited">Edited</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:HiddenMessage">HiddenMessage</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Event.html#t:Submitter">Submitter</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Web-Slack-Types-Event-Subtype.html#t:Subtype">Subtype</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelMarked">ChannelMarked</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelCreated">ChannelCreated</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelJoined">ChannelJoined</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelLeft">ChannelLeft</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelDeleted">ChannelDeleted</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelRename">ChannelRename</a> ::  <a href="Web-Slack-Types-Event.html#t:ChannelRenameInfo">ChannelRenameInfo</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelArchive">ChannelArchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelUnarchive">ChannelUnarchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ChannelHistoryChanged">ChannelHistoryChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ImCreated">ImCreated</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-IM.html#t:IM">IM</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ImOpen">ImOpen</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:IMId">IMId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ImClose">ImClose</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:IMId">IMId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ImMarked">ImMarked</a> ::  <a href="Web-Slack-Types-Id.html#t:IMId">IMId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ImHistoryChanged">ImHistoryChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupJoined">GroupJoined</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupLeft">GroupLeft</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupOpen">GroupOpen</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupClose">GroupClose</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupArchive">GroupArchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupUnarchive">GroupUnarchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupRename">GroupRename</a> ::  <a href="Web-Slack-Types-Event.html#t:ChannelRenameInfo">ChannelRenameInfo</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupMarked">GroupMarked</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:GroupHistoryChanged">GroupHistoryChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileCreated">FileCreated</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileShared">FileShared</a> ::  <a href="Web-Slack-Types-File.html#t:FileReference">FileReference</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileUnshared">FileUnshared</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FilePublic">FilePublic</a> ::  <a href="Web-Slack-Types-File.html#t:FileReference">FileReference</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FilePrivate">FilePrivate</a> ::  <a href="Web-Slack-Types-Id.html#t:FileId">FileId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileChange">FileChange</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileDeleted">FileDeleted</a> ::  <a href="Web-Slack-Types-Id.html#t:FileId">FileId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileCommentAdded">FileCommentAdded</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack-Types-Comment.html#t:Comment">Comment</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileCommentEdited">FileCommentEdited</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack-Types-Comment.html#t:Comment">Comment</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:FileCommentDeleted">FileCommentDeleted</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack-Types-Id.html#t:CommentId">CommentId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:PresenceChange">PresenceChange</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Presence.html#t:Presence">Presence</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ManualPresenceChange">ManualPresenceChange</a> ::  <a href="Web-Slack-Types-Presence.html#t:Presence">Presence</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:PrefChange">PrefChange</a> ::  <a href="Web-Slack-Types-Event.html#t:Pref">Pref</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:UserChange">UserChange</a> ::  <a href="Web-Slack-Types-User.html#t:User">User</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:TeamJoin">TeamJoin</a> ::  <a href="Web-Slack-Types-User.html#t:User">User</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ReactionAdded">ReactionAdded</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ReactionRemoved">ReactionRemoved</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:StarAdded">StarAdded</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:StarRemoved">StarRemoved</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:EmojiChanged">EmojiChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:CommandsChanged">CommandsChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:TeamPrefChange">TeamPrefChange</a> ::  <a href="Web-Slack-Types-Event.html#t:Pref">Pref</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:TeamRenameEvent">TeamRenameEvent</a> ::  <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:TeamDomainChange">TeamDomainChange</a> ::  <a href="Web-Slack-Types-Base.html#t:URL">URL</a> -&gt; <a href="Web-Slack-Types-Event.html#t:Domain">Domain</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:EmailDomainChange">EmailDomainChange</a> ::  <a href="Web-Slack-Types-Event.html#t:Domain">Domain</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:BotChanged">BotChanged</a> ::  <a href="Web-Slack-Types-Bot.html#t:Bot">Bot</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:BotAdded">BotAdded</a> ::  <a href="Web-Slack-Types-Bot.html#t:Bot">Bot</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:AccountsChanged">AccountsChanged</a> ::  <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:UserTyping">UserTyping</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:MessageResponse">MessageResponse</a> ::  <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:MessageError">MessageError</a> ::  <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Web-Slack-Types-Error.html#t:SlackError">SlackError</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:StatusChange">StatusChange</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:Pong">Pong</a> ::  <a href="Web-Slack-Types-Time.html#t:Time">Time</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:ReconnectUrl">ReconnectUrl</a> ::  <a href="Web-Slack-Types-Base.html#t:URL">URL</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:TeamMigrationStarted">TeamMigrationStarted</a> ::  <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:PinAdded">PinAdded</a> ::  <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:PinRemoved">PinRemoved</a> ::  <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:NoEvent">NoEvent</a> ::  <a href="Web-Slack.html#t:Event">Event</a></li><li><a href="#v:UnknownEvent">UnknownEvent</a> ::  <a href="../aeson-0.11.2.0/Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></li></ul></li><li class="src short">module <a href="Web-Slack-Types.html">Web.Slack.Types</a></li><li class="src short"><a href="#v:chat_postMessage">chat_postMessage</a> :: (<a href="../mtl-2.2.1/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> m, <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> -&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; [<a href="Web-Slack-Types-Message.html#t:Attachment">Attachment</a>] -&gt; m (<a href="../http-client-0.4.30/Network-HTTP-Client.html#t:Response">Response</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</li><li class="src short">module <a href="Web-Slack-WebAPI.html">Web.Slack.WebAPI</a></li><li class="src short"><span class="keyword">class</span> (<a href="../adjunctions-4.3/Control-Monad-Representable-Reader.html#t:MonadReader">MonadReader</a> <a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> m, <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="#t:MonadSlack">MonadSlack</a> m</li><li class="src short"><a href="#v:getConfig">getConfig</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SlackConfig">SlackConfig</a> = <a href="#v:SlackConfig">SlackConfig</a> {<ul class="subs"><li><a href="#v:_slackApiToken">_slackApiToken</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Slack">Slack</a> = <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></li><li class="src short"><a href="#v:runSlack">runSlack</a> :: <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> -&gt; <a href="Web-Slack.html#t:Slack">Slack</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:SlackHandle">SlackHandle</a></li><li class="src short"><a href="#v:withSlackHandle">withSlackHandle</a> :: <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> -&gt; (<a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a</li></ul></div><div id="interface"><h1 id="g:1">The Slack RTD API</h1><div class="doc"><p>The Slack Real-Time Data API. Once the connection is established, the
 server pushes notifications to the client over a websocket. You can
 recieve these notifications by calling <code><a href="Web-Slack.html#v:getNextEvent">getNextEvent</a></code>.</p><p>The RTD API also allows the client to send some messages back over the
 websocket connection. At the moment, it only really allows the sending
 of simple messages. For more complex interactions, you still have to use
 the Web API (see below).</p></div><div class="top"><p class="src"><a name="v:getNextEvent" class="def">getNextEvent</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m <a href="Web-Slack.html#t:Event">Event</a> <a href="src/Web-Slack-Monad.html#getNextEvent" class="link">Source</a></p><div class="doc"><p>Returns the next event in the queue. If none is available, blocks
 until a new event is recieved.</p></div></div><div class="top"><p class="src"><a name="v:getSession" class="def">getSession</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m <a href="Web-Slack.html#t:SlackSession">SlackSession</a> <a href="src/Web-Slack-Monad.html#getSession" class="link">Source</a></p><div class="doc"><p>When the connection is established, the slack server sends a bunch of
 session information. This is accessible here.</p><p>(Caveat: this information represents the state as of the beginning of
 the session; it is liable to become stale. If you care about keeping an
 up-to-date view of this stuff, you need to track changes to it using
 <code><a href="Web-Slack.html#v:getNextEvent">getNextEvent</a></code>.)</p></div></div><div class="top"><p class="src"><a name="v:sendMessage" class="def">sendMessage</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; m () <a href="src/Web-Slack-Monad.html#sendMessage" class="link">Source</a></p><div class="doc"><p>Send a simple slack message.</p></div></div><div class="top"><p class="src"><a name="v:sendPing" class="def">sendPing</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m () <a href="src/Web-Slack-Monad.html#sendPing" class="link">Source</a></p><div class="doc"><p>Send a ping to the server, which should respond by sending a <code><a href="Web-Slack.html#v:Pong">Pong</a></code>
 event.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SlackSession" class="def">SlackSession</a> <a href="src/Web-Slack-Types-Session.html#SlackSession" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SlackSession" class="def">SlackSession</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_slackSelf" class="def">_slackSelf</a> :: <a href="Web-Slack-Types-Self.html#t:Self">Self</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackTeam" class="def">_slackTeam</a> :: <a href="Web-Slack-Types-Team.html#t:Team">Team</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackUsers" class="def">_slackUsers</a> :: [<a href="Web-Slack-Types-User.html#t:User">User</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackLatestEventTs" class="def">_slackLatestEventTs</a> :: <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackChannels" class="def">_slackChannels</a> :: [<a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackGroups" class="def">_slackGroups</a> :: [<a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackIms" class="def">_slackIms</a> :: [<a href="Web-Slack-Types-IM.html#t:IM">IM</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackBots" class="def">_slackBots</a> :: [<a href="Web-Slack-Types-Bot.html#t:Bot">Bot</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_slackCacheVersion" class="def">_slackCacheVersion</a> :: <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlackSession" class="caption collapser" onclick="toggleSection('i:SlackSession')">Instances</p><div id="section.i:SlackSession" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Web-Slack.html#t:SlackSession">SlackSession</a></span> <a href="src/Web-Slack-Types-Session.html#line-28" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../aeson-0.11.2.0/Data-Aeson-Types.html#t:FromJSON">FromJSON</a> <a href="Web-Slack.html#t:SlackSession">SlackSession</a></span> <a href="src/Web-Slack-Types-Session.html#line-30" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Event" class="def">Event</a> <span class="keyword">where</span> <a href="src/Web-Slack-Types-Event.html#Event" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Hello" class="def">Hello</a> ::  <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Message" class="def">Message</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Event.html#t:Submitter">Submitter</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Web-Slack-Types-Event-Subtype.html#t:Subtype">Subtype</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Web-Slack-Types-Item.html#t:Edited">Edited</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:HiddenMessage" class="def">HiddenMessage</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Event.html#t:Submitter">Submitter</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Web-Slack-Types-Event-Subtype.html#t:Subtype">Subtype</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelMarked" class="def">ChannelMarked</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelCreated" class="def">ChannelCreated</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelJoined" class="def">ChannelJoined</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelLeft" class="def">ChannelLeft</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelDeleted" class="def">ChannelDeleted</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelRename" class="def">ChannelRename</a> ::  <a href="Web-Slack-Types-Event.html#t:ChannelRenameInfo">ChannelRenameInfo</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelArchive" class="def">ChannelArchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelUnarchive" class="def">ChannelUnarchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ChannelHistoryChanged" class="def">ChannelHistoryChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ImCreated" class="def">ImCreated</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-IM.html#t:IM">IM</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ImOpen" class="def">ImOpen</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:IMId">IMId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ImClose" class="def">ImClose</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:IMId">IMId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ImMarked" class="def">ImMarked</a> ::  <a href="Web-Slack-Types-Id.html#t:IMId">IMId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ImHistoryChanged" class="def">ImHistoryChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupJoined" class="def">GroupJoined</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupLeft" class="def">GroupLeft</a> ::  <a href="Web-Slack-Types-Channel.html#t:Channel">Channel</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupOpen" class="def">GroupOpen</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupClose" class="def">GroupClose</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupArchive" class="def">GroupArchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupUnarchive" class="def">GroupUnarchive</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupRename" class="def">GroupRename</a> ::  <a href="Web-Slack-Types-Event.html#t:ChannelRenameInfo">ChannelRenameInfo</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupMarked" class="def">GroupMarked</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GroupHistoryChanged" class="def">GroupHistoryChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileCreated" class="def">FileCreated</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileShared" class="def">FileShared</a> ::  <a href="Web-Slack-Types-File.html#t:FileReference">FileReference</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileUnshared" class="def">FileUnshared</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FilePublic" class="def">FilePublic</a> ::  <a href="Web-Slack-Types-File.html#t:FileReference">FileReference</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FilePrivate" class="def">FilePrivate</a> ::  <a href="Web-Slack-Types-Id.html#t:FileId">FileId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileChange" class="def">FileChange</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileDeleted" class="def">FileDeleted</a> ::  <a href="Web-Slack-Types-Id.html#t:FileId">FileId</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileCommentAdded" class="def">FileCommentAdded</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack-Types-Comment.html#t:Comment">Comment</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileCommentEdited" class="def">FileCommentEdited</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack-Types-Comment.html#t:Comment">Comment</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FileCommentDeleted" class="def">FileCommentDeleted</a> ::  <a href="Web-Slack-Types-File.html#t:File">File</a> -&gt; <a href="Web-Slack-Types-Id.html#t:CommentId">CommentId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:PresenceChange" class="def">PresenceChange</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Presence.html#t:Presence">Presence</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ManualPresenceChange" class="def">ManualPresenceChange</a> ::  <a href="Web-Slack-Types-Presence.html#t:Presence">Presence</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:PrefChange" class="def">PrefChange</a> ::  <a href="Web-Slack-Types-Event.html#t:Pref">Pref</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:UserChange" class="def">UserChange</a> ::  <a href="Web-Slack-Types-User.html#t:User">User</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TeamJoin" class="def">TeamJoin</a> ::  <a href="Web-Slack-Types-User.html#t:User">User</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ReactionAdded" class="def">ReactionAdded</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ReactionRemoved" class="def">ReactionRemoved</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:StarAdded" class="def">StarAdded</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:StarRemoved" class="def">StarRemoved</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack-Types-Item.html#t:Item">Item</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:EmojiChanged" class="def">EmojiChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:CommandsChanged" class="def">CommandsChanged</a> ::  <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TeamPrefChange" class="def">TeamPrefChange</a> ::  <a href="Web-Slack-Types-Event.html#t:Pref">Pref</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TeamRenameEvent" class="def">TeamRenameEvent</a> ::  <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TeamDomainChange" class="def">TeamDomainChange</a> ::  <a href="Web-Slack-Types-Base.html#t:URL">URL</a> -&gt; <a href="Web-Slack-Types-Event.html#t:Domain">Domain</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:EmailDomainChange" class="def">EmailDomainChange</a> ::  <a href="Web-Slack-Types-Event.html#t:Domain">Domain</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:BotChanged" class="def">BotChanged</a> ::  <a href="Web-Slack-Types-Bot.html#t:Bot">Bot</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:BotAdded" class="def">BotAdded</a> ::  <a href="Web-Slack-Types-Bot.html#t:Bot">Bot</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AccountsChanged" class="def">AccountsChanged</a> ::  <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:UserTyping" class="def">UserTyping</a> ::  <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:MessageResponse" class="def">MessageResponse</a> ::  <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:MessageError" class="def">MessageError</a> ::  <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Web-Slack-Types-Error.html#t:SlackError">SlackError</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:StatusChange" class="def">StatusChange</a> ::  <a href="Web-Slack-Types-Id.html#t:UserId">UserId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; <a href="Web-Slack-Types-Time.html#t:SlackTimeStamp">SlackTimeStamp</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Pong" class="def">Pong</a> ::  <a href="Web-Slack-Types-Time.html#t:Time">Time</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ReconnectUrl" class="def">ReconnectUrl</a> ::  <a href="Web-Slack-Types-Base.html#t:URL">URL</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TeamMigrationStarted" class="def">TeamMigrationStarted</a> ::  <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:PinAdded" class="def">PinAdded</a> ::  <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:PinRemoved" class="def">PinRemoved</a> ::  <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NoEvent" class="def">NoEvent</a> ::  <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:UnknownEvent" class="def">UnknownEvent</a> ::  <a href="../aeson-0.11.2.0/Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Web-Slack.html#t:Event">Event</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Event" class="caption collapser" onclick="toggleSection('i:Event')">Instances</p><div id="section.i:Event" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Web-Slack.html#t:Event">Event</a></span> <a href="src/Web-Slack-Types-Event.html#line-98" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../aeson-0.11.2.0/Data-Aeson-Types.html#t:FromJSON">FromJSON</a> <a href="Web-Slack.html#t:Event">Event</a></span> <a href="src/Web-Slack-Types-Event.html#line-102" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src">module <a href="Web-Slack-Types.html">Web.Slack.Types</a></p></div><h1 id="g:2">The Slack Web API</h1><div class="doc"><p>The Slack Web API is an HTTP REST API. It supports more user operations
 than the RTD API. This API is still not very well supported by this
 library.</p></div><div class="top"><p class="src"><a name="v:chat_postMessage" class="def">chat_postMessage</a> :: (<a href="../mtl-2.2.1/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> m, <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> -&gt; <a href="Web-Slack-Types-Id.html#t:ChannelId">ChannelId</a> -&gt; <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> -&gt; [<a href="Web-Slack-Types-Message.html#t:Attachment">Attachment</a>] -&gt; m (<a href="../http-client-0.4.30/Network-HTTP-Client.html#t:Response">Response</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>) <a href="src/Web-Slack-WebAPI.html#chat_postMessage" class="link">Source</a></p></div><div class="top"><p class="src">module <a href="Web-Slack-WebAPI.html">Web.Slack.WebAPI</a></p></div><h1 id="g:3">Running your code</h1><div class="doc"><p>The API exposed by this library is fairly generic, and is designed
 to support writing code in two different styles: by using a <code><a href="Web-Slack.html#t:Slack">Slack</a></code>
 monad, or by passing around a <code><a href="Web-Slack.html#t:SlackHandle">SlackHandle</a></code>.</p></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../adjunctions-4.3/Control-Monad-Representable-Reader.html#t:MonadReader">MonadReader</a> <a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> m, <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a name="t:MonadSlack" class="def">MonadSlack</a> m <a href="src/Web-Slack-Monad.html#MonadSlack" class="link">Source</a></p><div class="doc"><p>A monad which supports performing slack-api operations. Some useful
 instances include:</p><ul><li><pre>Slack a</pre></li><li><pre>SlackHandle -&gt; IO a</pre></li><li><pre>RWST SlackHandle () MyState IO a</pre></li></ul></div><div class="subs instances"><p id="control.i:MonadSlack" class="caption collapser" onclick="toggleSection('i:MonadSlack')">Instances</p><div id="section.i:MonadSlack" class="show"><table><tr><td class="src clearfix"><span class="inst-left">(<a href="../adjunctions-4.3/Control-Monad-Representable-Reader.html#t:MonadReader">MonadReader</a> <a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> m, <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m</span> <a href="src/Web-Slack-Monad.html#line-34" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:getConfig" class="def">getConfig</a> :: <a href="Web-Slack.html#t:MonadSlack">MonadSlack</a> m =&gt; m <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> <a href="src/Web-Slack-Monad.html#getConfig" class="link">Source</a></p><div class="doc"><p>Retrieve the config used to initiate the session.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SlackConfig" class="def">SlackConfig</a> <a href="src/Web-Slack-WebAPI.html#SlackConfig" class="link">Source</a></p><div class="doc"><p>Configuration options needed to connect to the Slack API</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SlackConfig" class="def">SlackConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_slackApiToken" class="def">_slackApiToken</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></dt><dd class="doc"><p>API Token for Bot</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlackConfig" class="caption collapser" onclick="toggleSection('i:SlackConfig')">Instances</p><div id="section.i:SlackConfig" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a></span> <a href="src/Web-Slack-WebAPI.html#line-27" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:4">Monadic style</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Slack" class="def">Slack</a> = <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="src/Web-Slack-Monad.html#Slack" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:runSlack" class="def">runSlack</a> :: <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> -&gt; <a href="Web-Slack.html#t:Slack">Slack</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a <a href="src/Web-Slack-Monad.html#runSlack" class="link">Source</a></p></div><div class="doc"><p>The following example is for a bot which echoes every message it sees
 back to the channel it case from.</p><pre>main :: IO ()
main = runSlack myConfig echoBot

myConfig :: SlackConfig
myConfig = SlackConfig { _slackApiToken = &quot;your API token here&quot; }

echoBot :: Slack ()
echoBot = do
    event &lt;- getNextEvent
    case event of
        (Message cid _ msg _ _ _) -&gt; sendMessage cid msg
        _ -&gt; return ()
    echoBot</pre></div><h2 id="g:5">Handle-based style</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SlackHandle" class="def">SlackHandle</a> <a href="src/Web-Slack-Internal.html#SlackHandle" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:withSlackHandle" class="def">withSlackHandle</a> :: <a href="Web-Slack.html#t:SlackConfig">SlackConfig</a> -&gt; (<a href="Web-Slack.html#t:SlackHandle">SlackHandle</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a <a href="src/Web-Slack-Internal.html#withSlackHandle" class="link">Source</a></p></div><div class="doc"><p>This is the same example as in the previous section, but written using
 a handle-based style. This approach is more verbose, but can be more
 flexible (eg. consider forking threads which share a handle). The API
 exposed by this module can be used with either style.</p><pre>main :: IO ()
main = withSlackHandle myConfig echoBot

myConfig :: SlackConfig
myConfig = SlackConfig { _slackApiToken = &quot;your API token here&quot; }

echoBot :: SlackHandle -&gt; IO ()
echoBot h = do
    event &lt;- getNextEvent h
    case event of
        (Message cid _ msg _ _ _) -&gt; sendMessage cid msg h
        _ -&gt; return ()
    echoBot h</pre></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>